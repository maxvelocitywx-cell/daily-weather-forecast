@import "tailwindcss";

/* Tailwind v4 theme configuration */
@theme inline {
  --color-background: #0a0a0f;
  --color-foreground: #f0f0f5;
  --font-sans: var(--font-geist-sans), Inter, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), JetBrains Mono, Menlo, monospace;

  /* Max Velocity brand colors */
  --color-mv-bg-primary: #0a0a0f;
  --color-mv-bg-secondary: #12121a;
  --color-mv-bg-tertiary: #1a1a24;
  --color-mv-bg-card: #14141c;
  --color-mv-bg-surface: #0d0d12;

  --color-mv-text-primary: #f0f0f5;
  --color-mv-text-secondary: #b0b0c0;
  --color-mv-text-muted: #707080;
  --color-mv-text-dimmed: #505060;

  --color-mv-accent-blue: #3b82f6;
  --color-mv-accent-blue-light: #60a5fa;
  --color-mv-accent-cyan: #22d3ee;
  --color-mv-accent-purple: #a855f7;

  /* Risk scale colors (1-10) */
  --color-mv-risk-very-quiet: #10b981;
  --color-mv-risk-quiet: #10b981;
  --color-mv-risk-quiet-2: #84cc16;
  --color-mv-risk-marginal: #eab308;
  --color-mv-risk-active: #f97316;
  --color-mv-risk-elevated: #f87171;
  --color-mv-risk-elevated-5: #f87171;
  --color-mv-risk-high: #ef4444;
  --color-mv-risk-significant: #dc2626;
  --color-mv-risk-major: #b91c1c;
  --color-mv-risk-severe: #9333ea;
  --color-mv-risk-extreme: #1f2937;
  --color-mv-risk-extreme-10: #111827;
  --color-mv-risk-historic: #7c3aed;

  /* Weather-specific */
  --color-mv-weather-snow: #a5f3fc;
  --color-mv-weather-rain: #60a5fa;
  --color-mv-weather-wind: #fbbf24;

  /* Custom shadows */
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.3), 0 4px 20px rgba(0, 0, 0, 0.15);
  --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.4), 0 8px 32px rgba(0, 0, 0, 0.2);
  --shadow-glow-blue: 0 0 20px rgba(59, 130, 246, 0.3);
  --shadow-glow-cyan: 0 0 20px rgba(34, 211, 238, 0.3);
}

/* Force dark mode */
html {
  color-scheme: dark;
  scroll-behavior: smooth;
}

body {
  background: var(--color-mv-bg-primary);
  color: var(--color-mv-text-primary);
  font-family: var(--font-sans);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.02);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.15);
}

/* Selection */
::selection {
  background: rgba(59, 130, 246, 0.3);
  color: white;
}

/* Focus styles */
:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-mv-accent-blue), 0 0 0 4px var(--color-mv-bg-primary);
}

/* Glass effect cards */
.glass-card {
  background: rgba(18, 18, 26, 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 0.75rem;
}

.glass {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.glass-strong {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(to right, white, rgba(255, 255, 255, 0.6));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-cyan {
  background: linear-gradient(135deg, #22d3ee, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-fire {
  background: linear-gradient(135deg, #f97316, #ef4444);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Risk gradient backgrounds */
.risk-gradient-low {
  background: linear-gradient(to bottom right, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
}

.risk-gradient-moderate {
  background: linear-gradient(to bottom right, rgba(234, 179, 8, 0.2), rgba(249, 115, 22, 0.1));
}

.risk-gradient-high {
  background: linear-gradient(to bottom right, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
}

.risk-gradient-extreme {
  background: linear-gradient(to bottom right, rgba(168, 85, 247, 0.2), rgba(0, 0, 0, 0.2));
}

/* Interactive elements */
.interactive {
  transition: all 0.2s;
}
.interactive:hover {
  transform: scale(1.02);
}
.interactive:active {
  transform: scale(0.98);
}

/* Card hover effect */
.card-hover {
  transition: all 0.2s;
}
.card-hover:hover {
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3), 0 0 10px rgba(255, 255, 255, 0.05);
}

/* Text shadow for better readability on maps */
.text-shadow {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.text-shadow-sm {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Glow effects */
.glow-blue {
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.glow-red {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

.glow-yellow {
  box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
}

.glow-green {
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
}

.glow-cyan {
  box-shadow: 0 0 20px rgba(34, 211, 238, 0.3);
}

.glow-purple {
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Backdrop blur fallback */
@supports not (backdrop-filter: blur(12px)) {
  .backdrop-blur-xl {
    background-color: rgba(10, 10, 10, 0.95);
  }
}

/* Line clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* MapLibre/Mapbox core styles */
.mapboxgl-map,
.maplibregl-map {
  position: absolute !important;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100% !important;
  height: 100% !important;
}

.mapboxgl-canvas-container,
.maplibregl-canvas-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

.mapboxgl-canvas,
.maplibregl-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

/* Map popup overrides */
.mapboxgl-popup-content,
.maplibregl-popup-content {
  background: transparent !important;
  padding: 0 !important;
  box-shadow: none !important;
}

.mapboxgl-popup-tip,
.maplibregl-popup-tip {
  display: none !important;
}

.mapboxgl-ctrl-group,
.maplibregl-ctrl-group {
  background: rgba(23, 23, 23, 0.9) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 8px !important;
  overflow: hidden;
}

.mapboxgl-ctrl-group button,
.maplibregl-ctrl-group button {
  background: transparent !important;
  border-color: rgba(255, 255, 255, 0.05) !important;
}

.mapboxgl-ctrl-group button:hover,
.maplibregl-ctrl-group button:hover {
  background: rgba(255, 255, 255, 0.05) !important;
}

.mapboxgl-ctrl-group button + button,
.maplibregl-ctrl-group button + button {
  border-top-color: rgba(255, 255, 255, 0.05) !important;
}

.mapboxgl-ctrl-icon,
.maplibregl-ctrl-icon {
  filter: invert(1);
}

/* Map tooltip styles */
.city-hover-tooltip {
  pointer-events: none !important;
}

.city-hover-tooltip .mapboxgl-popup-content,
.city-hover-tooltip .maplibregl-popup-content {
  pointer-events: none !important;
}

.city-click-popup .mapboxgl-popup-content,
.city-click-popup .maplibregl-popup-content {
  pointer-events: auto !important;
}

/* Animation keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 10px currentColor;
  }
  50% {
    opacity: 0.8;
    box-shadow: 0 0 20px currentColor;
  }
}

@keyframes slide-in-right {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Animation classes */
.animate-fadeIn {
  animation: fadeIn 0.4s ease-out forwards;
  opacity: 0;
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out;
}

.animate-slideUp,
.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

/* Responsive typography */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

/* Print styles */
@media print {
  body {
    background: white;
    color: black;
  }

  .no-print {
    display: none !important;
  }
}
